#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
# Create partner
#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-
  !record {model: res.partner, id: customer, view: False}:
    name: "credit transfer test"

#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
# Create account transfer
#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-
  !record {model: account.account, id: account_account_transfer}:
    code: TRANSF
    name: Transfer
    user_type_id: account.data_account_type_revenue
    reconcile: True

#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
# Create account expenses
#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-
  !record {model: account.account, id: account_account_expenses}:
    code: EXPENSES
    name: Expenses
    user_type_id: account.data_account_type_revenue
    reconcile: True

-
  !record {model: res.bank, id: bank_post, view: False}:
    name: 'Postfinance AG'
    code: 'postfinance'
    bic: 'POFICHBEXXX'
    clearing: '9000'
    street: 'Postfinance'
    zip: '3030'
    city: 'Bern'

-
  !record {model: res.partner.bank, id: company_bank_post_xml_ct, view: False}:
    acc_type: 'postal'
    acc_number: 'CH12 0900 0000 1234 5678 9'
    partner_id: base.main_partner
    bank_id: bank_post

-
  !record {model: account.journal, id: account_journal_xml_ct, view: False}:
    name: Bank XML CT Journal
    type: bank
    bank_account_id: company_bank_post_xml_ct
-
  ...and link its debit method.
-
  !record {model: account.journal, id: account_journal_xml_ct, view: False}:
    outbound_payment_method_ids:
      - export_sepa_ct_ch

#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
# Create payment mode
#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-
  !record {model: account.payment.mode, id: payment_mode_outbound_sepa_ct_ch, view: False}:
    name: 'XML CT'
    company_id: base.main_company
    bank_account_link: fixed
    fixed_journal_id: account_journal_xml_ct
    active: True
    payment_method_id: export_sepa_ct_ch
    group_lines: False

#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
# Create invoice
#-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-
  !record {model: account.invoice, id: ct_invoice, view: False}:
    partner_id: customer
    type : in_invoice
    account_id: account_account_transfer
    company_id: base.main_company
    currency_id: base.CHF
    date_invoice: !eval "'%s-12-01' %(datetime.now().year)"
    move_name: 'test invoice credit transfer'
    invoice_line_ids:
        -   account_id: account_account_expenses
            name: 'Some contact lenses'
            price_unit: 600.00
            quantity: 1.0
